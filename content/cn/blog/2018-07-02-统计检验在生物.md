---
title: 几种常见的检验及统计分析在生物中的应用
author: wangzhen
date: '2018-07-02'
slug: student-t-test
categories:
  - R
tags:
  - R
---

### 1.student t-test 

T检验，亦称student t检验（Student's test），主要用于样本含量较小（例如n<30），总体标准差σ未知的正态分布。

T检验分为单总体检验和双总体检验。

> 1.单总体t检验是检验一个样本平均数与一个已知的总体平均数的差异是否显著.<br>
> eg:mu为已知均数、真值

```{r}
set.seed(0)
treeVolume <- c(rnorm(75, mean = 36500, sd = 2000))
t.test(treeVolume, mu = 39000) # Ho: mu = 39000

t值为19.7514，p值为2.2e-16 < 0.05 说明存在显著差异

x <- c(20.99,20.41,20.10,20.00,20.91,22.60,20.99,20.42,20.90,22.99,23.12,20.89)
t.test(x, alternative = "greater", mu = 20.7 )

t=1.5665，显著性P值=0.07276>0.05，接受原假设，说明该法测定的碳酸钙含量与总体无显著差异

```
> 2.双总体t检验是检验两个样本平均数与其各自所代表的总体的差异是否显著。双总体t检验又分为两种情况，一是配对样本t检验，一是独立样本t检验.

配对样本t检验:

```{r}
#输入两组值
x <- c(2.41,2.90,2.75,2.23,3.67,4.49,5.16,5.45,2.06,1.64,1.06,0.77)
y <- c(2.80,3.04,1.88,3.43,3.81,4.00,4.44,5.41,1.24,1.83,1.45,0.92)
#配对样本t检验
t.test(x,y,paired=T)
t=0.16232，显著性p值=0.874>0.05,无显著差异。

set.seed(2820)
preTreat <- c(rnorm(1000, mean = 145, sd = 9))
postTreat <- c(rnorm(1000, mean = 138, sd = 8))
t.test(preTreat, postTreat, paired = TRUE)
t = 19.7514, p-value < 2.2e-16 ，有显著性差异。

```

独立样本t检验:

```{r}
set.seed(0)
ClevelandSpending <- rnorm(50, mean = 250, sd = 75)
NYSpending <- rnorm(50, mean = 300, sd = 80)
t.test(ClevelandSpending, NYSpending, var.equal = TRUE)
#这个用student t-test
t.test(ClevelandSpending, NYSpending, <font color="blue"> var.equal = FALSE </font>)
这个是Welch t-test
结果：t = -3.6361，p-value = 0.0004433<0.05 存在显著性差异

spending <- c(ClevelandSpending, NYSpending)
city <- c(rep("Cleveland", 50), rep("New York", 50))
t.test(spending ~ city, var.equal = TRUE)
结果：
这里spending是分组数据，检验的时候用~、上个是两个都是数据，直接用。

```



